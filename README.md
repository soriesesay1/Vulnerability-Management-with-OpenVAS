# Vulnerability-Management-with-OpenVAS
My beginner practical Vulnerability-Management-with-OpenVAS using Azure.

Before we jump into the practical side of Vulnerabulity Management we need to know what is Vulnerabulity Management and it steps?

**What is Vulnerability Management? **


Answer: - It is a weakness in any system. It is a crucial aspect of cybersecurity aimed at identifying, evaluating, and mitigating security vulnerabilities within a computer system, network, or application. The goal is to proactively address potential weaknesses before they can be exploited by malicious actors.


**Steps for Vulnerability Management:**

•	***Identification:*** - Discovering and cataloging potential vulnerabilities in a system, including software, hardware, and configuration issues.

•	**Assessment:** - Evaluating the vulnerabilities to determine their severity and potential impact on the security of the system.

•	**Prioritization:** - Ranking vulnerabilities based on their level of risk and criticality, considering factors such as the ease of exploitation and potential consequences.

•	**Mitigation:** - Implementing measures to reduce or eliminate the identified vulnerabilities. This may involve applying patches, reconfiguring systems, or implementing security controls.

•	**Monitoring:** - Continuously monitoring the system for new vulnerabilities and applying updates or patches as needed. Regular assessments help maintain a secure posture over time.


What is Azure?

**Answer:** - Microsoft Azure is a public cloud computing platform run by Microsoft that offers access, management, and the development of applications and services through global data centers. It provides a range of capabilities, including software as a service (SaaS), platform as a service (PaaS), and infrastructure as a service (IaaS).

![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/4b78abb5-b896-4f31-be91-72f755dc7fa0) 

What is OpenVas?

**Answer:** - It is a software framework and a tool use for Vulnerability scanning and management. 
![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/d369f4a0-6e56-4d36-a01c-36b8e5418807)

Start by going **azure.microsoft.com** to create a new account if you don't have any.

•	When you create the free azure account on **azure.microsoft.com**, you will get a credit of $200 dollars to use and click start free. 
![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/c48b7ce5-28ab-4c42-a1f5-f415002f14dd)

•	After creating the account and it is successful, you will see a dashboard like this below. 
![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/4c3cd9a8-6990-4258-8ab2-cd8e77b60bc1)

•	On the search bar, type **marketplace** and click on it.

![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/139fe5c2-caef-48b1-aa26-67cadd6d097a)

•	When inside the marketplace type **OpenVAS** and look for the one with HOSSTED like this.
![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/5113fb8d-91c0-4224-8cdc-dc5065b1f177)

•	When inside OpenVas, click on ‘Start with a pre-set configuration’
![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/73bf1536-834d-4e86-a104-2be1cda2300c)

•	You will have a screen like this below, click on Dev/Test, General purpose (D-Series), and continue to create a VM.
![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/b7674013-da4b-4e91-8a2c-c15f937253c1)

**Reason:** - We don’t need too much because we are just practicing.

**Configuration:** - Under Basics, your tables will look like this below. 

 •	For Resource group, we create new one and mine is D-Vulnet.
 
 •	For Virtual machine, you can choose any name and mine is OpenVas-Vul.
 
 •	Region: - Because I am in the US, I will choose (US) East US 2 and you can choose anything for your location.
 
 •	Image: you can leave it as default. 
 
 •	VM architecture as default.
 
 •	Size, you can change it as to whatever that suits your region.
 
 •	Authentication Type, choose password so it can give you a prompt for username & password.
 
 •	Leave everything on default for Disks, Networking, and Management.
 
 •	For Monitoring, under Diagnostics select Disable and click Review + Create and make sure it says Validation passed. 
 
 •	You will have a page like this which shows deployment is complete.
 
 •	Type virtual machine on the search bar to see the OpenVas server machine we created. 
 
 •	Open Powershell on your windows machine or terminal on Mac so we can ssh over public internet. 
 
 •	We copy our VM public IP address to ssh into it. 
 
 •	To ssh into our VM using powershell, we type in this command ssh username@public ip address like this ssh azureuser@20.85.120.233 and press enter.  
 
 •	After that powershell will ask you if you want to continue and type in yes like this. 
 
 •	Remember, the username and password we created during our VM creation is the same you will use to login to powershell.
 
 •	If your login is successful, you will have a screen that shows the creators of openvas ‘HOSSTED’ and if you don’t see that name, it shows that you did not configure your VM very well. 
 
 •	The default login and password for OpenVas on powershell, username: - admin & pw: - afd7623c-6955-41ae-a921-3b85e3502272
 
 •	We copy the ip address from openvas and paste it to a new tab on our browser. https://20.85.120.233.c.hossted.com
 ![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/90f33d0c-4425-4ee2-b078-2c676d833280)
 
 •	Our openvas platform looks like this and you will use the login and pw from HOSSTED to sign in.
 
 •	After a successful login, our dashboard will look like this.
![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/a4f2f0aa-8896-4986-af1c-dee2e47ed1b3)

•	We can change the password from default to our personal. To do that, click on the picture on the top right of the help, click settings, on the left side under dashboard click Edit my settings and you will see a screen like this.
![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/fbfcd7e4-fe38-47be-90af-641a4d5b2d56)

•	Put in the default password and the new password you like and save.

•	Log out and log back in to see if the password change works. 

•	We create a new virtual machine which is windows10 to be user as our vulnerability machine.

•	We use the same resource group as the first openvas machine.
![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/71143ccc-29fb-4c38-afa8-d482dcb0fecd)

•	For network, we use the default of OpenVas net.
![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/da3b59d7-fdd4-44dc-85ce-e2426482ff4d)

•	After the windows10 is created, we remote desktop into it.

•	We turn windows defender firewall off, for us to be able to run our outdated softwares.
![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/4e314f4a-d1f9-4d33-a0c9-c3a859b3f47b)

•	We receive a message from Microsoft to turn back on our firewall for protection, however, since we are going to be using it to run our outdated software’s, we will keep it that way for now.
![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/d9f05a49-29fb-4369-b57f-2f88e14b4fd7)

•	We download outdated software’s and run them in our windows10 vulnerability machine.
![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/97e7cc21-4e8a-480a-92f2-6c6a515d032b)

•	We install 3 outdated software’s of Adobe, Firefox, and VLC player into our virtual vulnerability Testing machine. 

•	We restart the VM for everything to take effect. 
![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/8d669399-cd5e-474c-b3b2-8d8f7676bcc1)

Configure OpenVas:

•	We login to openvas using the link from our powershell run script.
![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/1ed23145-fb9a-44e7-b2c7-653133988f36)

•	Our dashboard is empty because we didn’t add any machine into it.
![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/8075f7a1-f844-44c2-8dde-d0376222275b)

•	We are going to use our private Ip address from our Azure VM(Windows10) to configure our openvas.

•	To do that, you click on Assets and then Hosts. 
![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/fb478404-800a-4eed-916e-34ecd9a4f625)

•	When inside, on the top left under dashboard click on the rectangle with a star to add new host.
![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/d31d3bc2-ffc7-4f84-8f61-f3894825268a)

•	When inside, this is where we add the private ip address of the windows vulnerable machine from azure, give it whatever name you want and click save. 

•	We used the private ip address to make the scan faster instead of the public ip address.

![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/859e5cb1-3cdd-43b3-8802-6bf200678566)

•	Our host looks like this.

![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/f1c09912-be4a-450a-aa92-52cfe725bfc3)

•	We create a new target from the host which is unauthenticated.

![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/1a67ac36-31be-4c83-954e-bfe6d8195462)

•	It looks like this.

![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/27c8f6bf-0997-422c-ada0-0feae5f091d4)

•	We create a Task to help with the scan.

•	We go to Scans, click Tasks and on the rectangle with a star, we click on it to add a new task.

![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/31eef295-76c7-4807-b647-ff86181e1b9d)

•	On the New Task, we leave everything on default and select our Target to Scan and save.

![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/69a8d30c-d1f6-4f90-83e4-3973e86bf14b)

•	We have a new task now to scan, and now it’s green and once we click the play button it will turn yellow and that means it is scanning. 

![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/bed36499-c862-4db1-87b6-fd85cbdf7894)

![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/23fbc6fd-6e9e-45d6-bac8-b5a6bcd124f0)

![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/32c4b28a-f88a-444d-a1d1-2c91af81ffdf)

Unauthenticated Scan

•	We verify the windows firewall is disable/off.

![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/9d1c7885-20f4-48de-9f96-d2b6ee47691d)

•	We disable Windows User Account Controls by typing it on the Windows search bar.

![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/645a2109-9e53-4571-9d87-fddda8e0a993)

•	We enable windows remote registry by typing services.msc on the search bar.

•	Inside the windows services, find Remote Registry and double click on it.

![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/03ae99eb-ba44-41b6-a769-3122095b5df4)

•	A Remote Registry prompt will show up, scroll down and look for Startup type and change it from Disable to Automatic, click Apply and Start on the service status and click OK.

![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/76d5fdc1-8f4a-4989-be7b-8b720fb74d4c)

•	We must set a Registry Key for user account, and by doing that we need to type regedit on the windows search bar and like this.

![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/91fe523e-d8f5-48b2-b8d0-e608c04ecaf7)

•	Inside Registry Editor, look for HKEY_LOCAL_MACHINE and click on it on the side.

![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/50e1564f-fd5b-40cc-9ff4-449e7a9987f8)

•	We should follow this prompt step by step SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\System key, the screen small to fit everything in one.

![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/bdcfbb79-1baa-4fbe-80b6-aaa2958e1340)

•	Scroll down and look for Windows and click on the side, down a little bit and click on CurrentVersion for it to open.

![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/d3cf22c4-f2e4-406b-bcf5-4a35e06e82f7)

•	Inside CurrentVersion, scroll down and look for Policies and inside policies, click System.

![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/913a3676-4f1d-4750-bd7e-99b1450950e5)

•	Inside System, right click on the blank space and a prompt will pop up and follow through like the picture below. 

![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/474a5b63-58a8-4ecf-927a-fddaf1511e95)

•	After clicking on DWORD (32-bit) value, a new file will show up and rename it to LocalAccountTokenFilterPolicy and set the Value to 1 by double click on the new file we just created close Registry and restart the computer. 

![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/3c0a44ac-5f70-43f0-9aaa-3385573062df)

Credential Scan:

•	To do credential scan, we go to configuration and scroll down and select credentials. 

•	Inside credentials, click on the rectangle with a star on the top left to create a new credential scan.

![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/520b8e29-fd23-489a-8efa-69f2c82dd548)

•	We create a new credential scan.

•	We allow insecure use because it accepts the negotiation over outdated protocols like TLS 1.1. 

![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/d93d0ab2-8c38-4af4-b288-f932dcf01036)

•	For the username and password, we used the same login for the windows-10 vulnerability VM logins.

![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/d57e8b7d-6fc1-4b93-b1ab-24503d3c62ad)

•	We want to Clone our Targets by going back to Configuration and select Target

![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/c71a7d9f-b107-499a-bf7a-ea6062eaf756)

•	To Clone the target, select the Sheep icon on the right.

•	We rename the Clone Target to Azure Vulnet VMs - Credentialed Scan and added Azure VM Credential on the SMB section/box and save.

![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/26524eb3-15b6-427f-88c1-18eee1ab5a62)

•	Time for us to Execute our credentials scan on our vulnerable windows-10 vm.

•	We first need to clone our task for credential scan and to do that, we go to Scans and select Tasks.

•	Select the rectangle with the pen in it Infront of the sheep clone button to edit the clone vm. 

![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/bc0493d3-1537-4130-94e2-d801b7bd1475)

•	Press the play button of the clone Scan Credential VM

•	 We couldn’t get any result during our scan because of some mistakes we made along the way.

![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/becd9bbf-b408-4822-aa98-f7ef8c0fb26c)

•	Our result would look like this if we had something.

![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/c6ab6e4e-01e6-467d-a9bd-0355254a8050)

•	To find the outdated apps on our scan, press ctrl and F at the same time and type adobe.

![image](https://github.com/soriesesay1/Vulnerability-Management-with-OpenVAS/assets/154941302/99a9ebd4-3a39-4c6a-9538-cc67ab4ed08f)

•	Do the same for the rest.

Thanks to Josh Madakor for this course: - https://www.youtube.com/watch?v=9Bsjw1VeRwE

































































 

 




